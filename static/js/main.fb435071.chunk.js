(this["webpackJsonpminesweeper-react"]=this["webpackJsonpminesweeper-react"]||[]).push([[0],{11:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(4),c=n.n(r),i=(n(9),n(2)),s=10,u="ready",l="run",o="win",f="lose",N={OPENED:0,NOTHING:-1,FLAG:-2,QUESTION:-3,MINE:-4,MINE_FLAG:-5,MINE_QUESTION:-6},b=n(0);var O=function(e){var t=e.mines,n=e.leftMines,a=e.gameState,r=e.handleRestart,c=e.runtime,i=function(e){switch(e){case o:return"\ud83d\ude0e";case f:return"\ud83d\ude22";default:return"\ud83d\ude04"}}(a),s=""+c;return s.length<3&&(s="0".repeat(3-s.length)+s),Object(b.jsxs)("div",{className:"info",children:[Object(b.jsxs)("div",{className:"count",children:[Object(b.jsx)("span",{children:"\ud83d\udca3"}),n,"/",t]}),Object(b.jsxs)("div",{className:"status",children:[Object(b.jsx)("button",{onClick:r,children:i}),Object(b.jsx)("button",{children:"\u2699\ufe0f"})]}),Object(b.jsxs)("div",{className:"time",children:[Object(b.jsx)("span",{children:"\ud83d\udd59"}),s]})]})};var j=function(e){var t=e.code,n=e.handleLeftClick,a=e.handleRightClick,r=e.state,c=function(e){var t="",n="square";switch(e){case N.NOTHING:n+="";break;case N.OPENED:n+=" plain";break;case N.FLAG:t="\ud83d\udea9",n+=" flag";break;case N.MINE_FLAG:r===f?t="\ud83d\udca5":r===o?t="\ud83d\udca3":(t="\ud83d\udea9",n+=" flag");break;case N.QUESTION:t="?",n+=" question";break;case N.MINE_QUESTION:r===f?t="\ud83d\udca5":r===o?t="\ud83d\udca3":(t="?",n+=" question");break;case N.MINE:switch(r){case f:t="\ud83d\udca5";break;case o:t="\ud83d\udca3";break;default:t=""}break;default:t=e,n+=" plain"}return[t,n]}(t),s=Object(i.a)(c,2),u=s[0],l=s[1];return Object(b.jsx)("button",{className:l,onClick:n,onContextMenu:a,children:u})};var d=function(e){var t=e.boardData,n=e.handleLeftClick,a=e.handleRightClick,r=e.gameState;return Object(b.jsx)("div",{className:"board",children:Array(9).fill(null).map((function(e,c){return Object(b.jsx)("div",{className:"board-row",children:Array(9).fill(null).map((function(e,i){return Object(b.jsx)(j,{code:t[c][i],handleLeftClick:function(){return n(c,i)},handleRightClick:function(e){return a(e,c,i)},state:r},i)}))},c)}))})},h=function(e,t,n){for(var a=Array(e*t).fill().map((function(e,t){return t})),r=[],c=[];a.length>e*t-n;){var i=a.splice(Math.floor(Math.random()*a.length),1)[0];r.push(i)}for(var s=0;s<t;s++){var u=Array(e).fill(N.NOTHING);c.push(u)}for(var l=0;l<r.length;l++){var o=r[l]%e;c[Math.floor(r[l]/e)][o]=N.MINE}return c},I=function(e,t,n){var a=0;return function t(n,r){if(e[r][n]===N.NOTHING){e[r][n]=function(t,n){var a=[];return a=(a=e[n-1]?a.concat(e[n-1][t-1],e[n-1][t],e[n-1][t+1]):a).concat(e[n][t-1],e[n][t+1]),(a=e[n+1]?a.concat(e[n+1][t-1],e[n+1][t],e[n+1][t+1]):a).filter((function(e){return[N.MINE,N.MINE_FLAG,N.MINE_QUESTION].includes(e)})).length}(n,r),a++;var c=[];c=(c=e[r-1]?c.concat({x:n-1,y:r-1},{x:n,y:r-1},{x:n+1,y:r-1}):c).concat({x:n-1,y:r},{x:n+1,y:r}),c=e[r+1]?c.concat({x:n-1,y:r+1},{x:n,y:r+1},{x:n+1,y:r+1}):c,0===e[r][n]&&c.forEach((function(e){t(e.x,e.y)}))}}(t,n),{boardData:e,openedCellCount:a}};var E=function(){var e=Object(a.useState)(h(9,9,s)),t=Object(i.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(0),j=Object(i.a)(c,2),E=j[0],v=j[1],x=Object(a.useState)(u),M=Object(i.a)(x,2),m=M[0],p=M[1],S=Object(a.useState)(0),k=Object(i.a)(S,2),G=k[0],g=k[1],T=Object(a.useState)(s),A=Object(i.a)(T,2),L=A[0],y=A[1],C=Object(a.useState)(0),_=Object(i.a)(C,2),F=_[0],Q=_[1];return Object(a.useEffect)((function(){var e;e=E,0===L&&71===e&&(p(o),console.log("WIN!"))}),[E,L]),Object(a.useEffect)((function(){var e=null;return m===l?e=setInterval((function(){Q((function(e){return e+1}))}),1e3):clearInterval(e),function(){clearInterval(e)}}),[m]),Object(b.jsx)("div",{className:"box",children:Object(b.jsxs)("main",{children:[Object(b.jsx)("h1",{children:"Minesweeper Game in React"}),Object(b.jsx)(O,{mines:s,leftMines:s-G,gameState:m,handleRestart:function(){r(h(9,9,s)),v(0),p(u),g(0),y(s),Q(0)},runtime:F}),Object(b.jsx)(d,{boardData:n,handleLeftClick:function(e,t){if(m!==o&&m!==f){m===u&&p(l);var a=n.slice();if(a[e][t]!==N.MINE){var c=I(a,t,e);v((function(e){return e+c.openedCellCount})),r(a)}else p(f)}},handleRightClick:function(e,t,a){if(e.preventDefault(),m!==o&&m!==f){m===u&&p(l);var c=n.slice();c[t][a]=function(e){switch(e){case N.NOTHING:return N.FLAG;case N.MINE:return N.MINE_FLAG;case N.FLAG:return N.QUESTION;case N.MINE_FLAG:return N.MINE_QUESTION;case N.QUESTION:return N.NOTHING;case N.MINE_QUESTION:return N.MINE;default:return e}}(c[t][a]),c[t][a]===N.MINE_FLAG||c[t][a]===N.FLAG?(g((function(e){return e+1})),c[t][a]===N.MINE_FLAG&&y((function(e){return e-1}))):c[t][a]!==N.MINE_QUESTION&&c[t][a]!==N.QUESTION||(g((function(e){return e-1})),c[t][a]===N.MINE_QUESTION&&y((function(e){return e+1}))),r(c)}},gameState:m})]})})};c.a.render(Object(b.jsx)(E,{}),document.getElementById("root"))},9:function(e,t,n){}},[[11,1,2]]]);
//# sourceMappingURL=main.fb435071.chunk.js.map